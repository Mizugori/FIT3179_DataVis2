{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json", 
  "data": {
    "url": "https://raw.githubusercontent.com/Mizugori/FIT3179_DataVis2/master/data/fire_archive_M6_96619.csv"
  },
  "vconcat": [
    {
      "title": "Bushfires in Australia, FROM_DATE to TO_DATE",
      "projection": {"type":"mercator"},
      "layer": [
        {
          "data": {
            "url": "https://raw.githubusercontent.com/Mizugori/FIT3179_DataVis2/master/data/AusGeo.geo.json",
            "format": {"type": "json"}
          },
          "mark": {"type": "geoshape", "fill": "lightgray", "stroke": "white"}
        },
        {
          "mark": {"type": "circle", "tooltip": {"content": "data"}},
          "transform": [
            {"filter": {"param": "time_brush"}}
          ],
          "encoding": {
            "longitude": {"field": "longitude", "type": "quantitative"},
            "latitude": {"field": "latitude", "type": "quantitative"},
            "color": {
              "field": "brightness",
              "type": "quantitative",
              "scale": {"scheme": "viridis"}
            },
            "opacity": {
              "field": "confidence",
              "type": "quantitative"
            }
          }
        }
      ]
    },
    {
      "title": "Count of bushfires over time; use this graph to select the timeframe",
      "params":[{"name": "time_brush", "select":{"type":"interval", "encodings": ["x"]}}],
      "mark": {"type": "line", "tooltip": {"content": "data"}},
      "encoding": {
        "x": {"field":"acq_date", 
              "type": "temporal",
              "timeUnit": {"unit": "yearmonthdate"},
              "axis":{"format": "%b/%d/%Y"},
              "title": "Date"
        },
        "y": {"aggregate":"count", "field": "brightness", "title": "Count"}
      }
    },
    {
      "title": "Day vs Night brightness",
      "mark": {"type": "line", "tooltip": {"content": "data"}},
      "encoding": {
        "x": {"field":"acq_date", 
              "type": "temporal",
              "timeUnit": {"unit": "yearmonthdate"},
              "axis":{"format": "%b/%d/%Y"},
              "title": "Date",
              "scale": {"domain": {"param": "time_brush"}}
        },
        "y": {"aggregate":"mean", "field": "brightness", "title": "Mean brightness"},
        "color":{"field":"daynight", "type": "nominal"}
      }
    }
  ],
  "config": {"title": {"font": "sans-serif", "fontSize": 14}}
}
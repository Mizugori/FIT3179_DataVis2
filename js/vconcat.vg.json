{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json", 
  "data": {
    "url": "https://raw.githubusercontent.com/Mizugori/FIT3179_DataVis2/master/data/fire_archive_M6_96619.csv"
  },
  "autosize":{"type": "pad"},
  "vconcat": [
    {
      "title": "Bushfires in Australia",
      "projection": {"type":"mercator"},
      "width": 400,
      "height": 400, 
      "layer": [
        {
          "data": {
            "url": "https://raw.githubusercontent.com/Mizugori/FIT3179_DataVis2/master/data/AusGeo.geo.json",
            "format": {"type": "json"}
          },
          "mark": {"type": "geoshape", "fill": "lightgray", "stroke": "white"}
        },
        {
          "mark": {"type": "circle", "tooltip": {"content": "data"}},
          "transform": [
            {"filter": {"param": "time_brush"}}
          ],
          "encoding": {
            "longitude": {"field": "longitude", "type": "quantitative"},
            "latitude": {"field": "latitude", "type": "quantitative"},
            "color": {
              "field": "brightness",
              "type": "quantitative",
              "scale": {"scheme": "darkred"}
            }
          }
        }
      ]
    },
    {
      "title": "Use this graph to select the timeframe",
      "width": 400,
      "height": 100, 
      "params":[{"name": "time_brush", "select":{"type":"interval", "encodings": ["x"]}}],
      "mark": {"type": "line", "tooltip": {"content": "data"}},
      "encoding": {
        "x": {"field":"acq_date", 
              "type": "temporal",
              "timeUnit": {"unit": "yearmonthdate"},
              "axis":{"format": "%b/%d/%Y"},
              "title": "Date"
        },
        "y": {"aggregate":"count", "field": "brightness", "title": "Count"}
      }
    }
  ],
  "config": {"title": {"font": "sans-serif", "fontSize": 14}}
}
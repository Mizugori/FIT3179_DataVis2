{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json", 
  "data": { 
    "url": "https://raw.githubusercontent.com/Mizugori/FIT3179_DataVis2/master/data/fire_nrt_M6_96619.csv" 
  }, 
  "vconcat": [
    {
      "width": 800,
      "height": 600,
      "title": "Bushfires in Australia, FROM_DATE to TO_DATE",
      "projection": {"type":"mercator"},
      "layer": [
        {
          "data": {
            "url": "https://raw.githubusercontent.com/Mizugori/FIT3179_DataVis2/master/data/AusGeo.geo.json",
            "format": {"type": "json"}
          },
          "mark": {"type": "geoshape", "fill": "lightgray", "stroke": "white"}
        },
        {
          "mark": {"type": "circle", "tooltip": {"content": "data"}},
          "transform": [{"filter": {"param":"time_brush"}}, {"filter":{"param":"location_brush"}}],
          "params":[{
            "name": "location_brush",
            "select":{"type":"interval", "encodings": ["latitude","longitude"]},
            "value": {"latitude":[-15, -14], "longitude":[143, 144]}
          }],
          "encoding": {
            "longitude": {"field": "longitude", "type": "quantitative"},
            "latitude": {"field": "latitude", "type": "quantitative"},
            "color": {
              "field": "brightness",
              "type": "quantitative",
              "scale": {"scheme": "viridis"}
            },
            "opacity": {
              "field": "confidence",
              "type": "quantitative",
              "scale": {"scheme": "reds"}
            }
          }
        }
      ]
    },
    {
      "width": 800,
      "height": 600,
      "title": "Count of bushfires over time; use this graph to select the timeframe",
      "params":[
        {
          "name": "time_brush", 
          "select":{"type":"interval", "encodings": ["x"]},
          "value":{"x":["Date(10/10/2019)", "Date(11/10/2019)"]}
        }
      ],
      "mark": {"type": "line", "tooltip": {"content": "data"}},
      "encoding": {
        "x": {"field":"acq_date", 
              "type": "temporal",
              "timeUnit": {"unit": "yearmonthdate"},
              "axis":{"format": "%b/%d/%Y"},
              "title": "Date"
        },
        "y": {"aggregate":"count", "field": "brightness", "title": "Count"}
      }
    }
  ],
  "config": {"title": {"font": "sans-serif", "fontSize": 14}}
}